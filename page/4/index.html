<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <link rel="dns-prefetch" href="http://addi.club">
  <title>Addi的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="想成为一名很吊的Android程序猿">
<meta property="og:type" content="website">
<meta property="og:title" content="Addi的博客">
<meta property="og:url" content="http://addi.club/page/4/index.html">
<meta property="og:site_name" content="Addi的博客">
<meta property="og:description" content="想成为一名很吊的Android程序猿">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Addi的博客">
<meta name="twitter:description" content="想成为一名很吊的Android程序猿">
  
    <link rel="alternative" href="/atom.xml" title="Addi的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/main.css">
  

</head>

<body>
  <div id="container">
    <div class="left-col">
      <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img src="/avatar.png" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Addi</a></h1>
		</hgroup>

		
		<p class="header-subtitle">念念不忘 必有回响</p>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">主页</a></li>
	        
				<li><a href="/tags/just">随笔</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
	        
    		
    			
    			<a class="js-smart-menu" data-idx="0" href="javascript:void(0)">所有文章</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="1" href="javascript:void(0)">标签</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="2" href="javascript:void(0)">友链</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="3" href="javascript:void(0)">关于我</a>
    			
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/addicheung" title="github">github</a>
		        
					<a class="rss" target="_blank" href="#" title="rss">rss</a>
		        
					<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/addicheung" title="zhihu">zhihu</a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"><i class="icon-list"></i></div>
  		<h1 class="header-author js-mobile-header hide">Addi</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img src="/avatar.png" class="js-avatar">
				
			</div>
			<hgroup>
			  <h1 class="header-author">Addi</h1>
			</hgroup>
			
			<p class="header-subtitle">念念不忘 必有回响</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/tags/just">随笔</a></li>
		        
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/addicheung" title="github">github</a>
			        
						<a class="rss" target="_blank" href="#" title="rss">rss</a>
			        
						<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/addicheung" title="zhihu">zhihu</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
        
  
    <article id="post-android-e5-ad-a6-e4-b9-a0-e7-ac-94-e8-ae-b0-5" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/02/10/android-e5-ad-a6-e4-b9-a0-e7-ac-94-e8-ae-b0-5/">android学习笔记-5</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="菜单-Menu"><a href="#菜单-Menu" class="headerlink" title="菜单(Menu)"></a>菜单(Menu)</h2><ul>
<li><strong>OptionMenu</strong>：选项菜单，<a href="http://www.alimodern.com/tag/android" title="android" target="_blank" rel="external">android</a>中最常见的菜单，通过Menu键来调用</li>
<li><strong>SubMenu</strong>：子菜单，<a href="http://www.alimodern.com/tag/android" title="android" target="_blank" rel="external">android</a>中点击子菜单将弹出一个显示子菜单项的悬浮框， 子菜单不支持嵌套，即不能包括其他子菜单</li>
<li><strong>ContextMenu</strong>：上下文菜单，通过长按某个视图组件后出现的菜单，该组件需注册上下文菜单 本节我们来依依学习这几种菜单的用法~ PS：官方文档：<a href="http://androiddoc.qiniudn.com/guide/topics/ui/menus.html" target="_blank" rel="external">menus</a><br>&nbsp;</li>
</ul>
<p>&nbsp;</p>
<pre>
package com.addi.popupwindow;

import android.content.Context;
import android.graphics.Color;
import android.graphics.drawable.ColorDrawable;
import android.os.Bundle;
import android.support.v7.app.AppCompatActivity;
import android.view.ContextMenu;
import android.view.LayoutInflater;
import android.view.MenuInflater;
import android.view.MenuItem;
import android.view.MotionEvent;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Button;
import android.widget.PopupWindow;
import android.widget.TextView;
import android.widget.Toast;

public class MainActivity extends AppCompatActivity {

    private Context mContext;
    private  Button bt_show;
    private TextView tx;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        bt_show = (Button)super.findViewById(R.id.btn_show);
        mContext = MainActivity.this;
        tx = (TextView)super.findViewById(R.id.txColor);
        registerForContextMenu(tx);//为控件注册上下文菜单
        bt_show.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                initView(v);
            }
        });

    }

    public void initView(View v){
        View view = LayoutInflater.from(mContext).inflate(R.layout.item_popip,null,false);
        Button bt_xixi = (Button)view.findViewById(R.id.btn_xixi);
        Button bt_hehe = (Button)view.findViewById(R.id.btn_hehe);
        //加载一个popupwinow
        final PopupWindow popupWindow = new PopupWindow(view, ViewGroup.LayoutParams.WRAP_CONTENT,ViewGroup.LayoutParams.WRAP_CONTENT,true);
        popupWindow.setAnimationStyle(R.anim.pop_anim);

        //这些为了点击非PopupWindow区域，PopupWindow会消失的，如果没有下面的
        //代码的话，你会发现，当你把PopupWindow显示出来了，无论你按多少次后退键
        //PopupWindow并不会关闭，而且退不出程序，加上下述代码可以解决这个问题

        popupWindow.setTouchable(true);
        popupWindow.setTouchInterceptor(new View.OnTouchListener() {
            @Override
            public boolean onTouch(View v, MotionEvent event) {
                return false;
                // 这里如果返回true的话，touch事件将被拦截
                // 拦截后 PopupWindow的onTouchEvent不被调用，这样点击外部区域无法dismiss
            }
        });
        //要为popWindow设置一个背景才有效

        popupWindow.setBackgroundDrawable(new ColorDrawable(0x00000000));

        //设置popupWindow显示的位置，参数依次是参照View，x轴的偏移量，y轴的偏移量
        popupWindow.showAsDropDown(v,50,0);

        bt_hehe.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                Toast.makeText(mContext, "你点击看hehe", Toast.LENGTH_SHORT).show();
            }
        });
        bt_xixi.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                Toast.makeText(mContext, "你点击看xixi", Toast.LENGTH_SHORT).show();
                popupWindow.dismiss();
            }
        });

    }

    public void onCreateContextMenu(ContextMenu menu, View v,
                                    ContextMenu.ContextMenuInfo menuInfo){
        MenuInflater inflator = new MenuInflater(this);
        inflator.inflate(R.menu.colormenu, menu);
        super.onCreateContextMenu(menu, v, menuInfo);

    }

    @Override
    public boolean onContextItemSelected(MenuItem item) {
        switch (item.getItemId()){
            case R.id.blue:
                tx.setTextColor(Color.BLUE);
                break;
            case R.id.red:
                tx.setTextColor(Color.RED);
                break;
            case R.id.yellow:
                tx.setTextColor(Color.YELLOW);
                break;
        }
        return true;
    }
}

</pre>
      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/02/10/android-e5-ad-a6-e4-b9-a0-e7-ac-94-e8-ae-b0-5/" class="archive-article-date">
  	<time datetime="2016-02-10T06:31:09.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-02-10</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Modern/">Modern</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/addi/">addi</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/">android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android开发/">android开发</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/Android/">Android</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-android-e5-ad-a6-e4-b9-a0-e7-ac-94-e8-ae-b0-4" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/02/01/android-e5-ad-a6-e4-b9-a0-e7-ac-94-e8-ae-b0-4/">Android学习笔记-4</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="创建一个可以复用的baseadapter"><a href="#创建一个可以复用的baseadapter" class="headerlink" title="创建一个可以复用的baseadapter"></a>创建一个可以复用的baseadapter</h1><p>今天学习了baseadapter,教程里面有教如何创建一个可以复用的baseadapter，程序员总是喜欢偷懒的啦，自己也依据教程动手写了一下。</p>
<h2 id="1：将Entity设置成泛型"><a href="#1：将Entity设置成泛型" class="headerlink" title="1：将Entity设置成泛型"></a>1：将Entity设置成泛型</h2><p>所以首先将累设计成泛型的</p>
<p>如：</p>
<p><span class="pln">public class <span style="color: #ff0000;">MyAdapter</span></span><span class="tag" style="color: #ff0000;">&lt;T&gt;</span><span class="pln"> extends BaseAdapter{</span></p>
<p><span class="pln"><br></span><span class="pln">private Context mContext; </span></p>
<p><span class="pln">private <span style="color: #ff0000;">LinkedList</span></span><span class="tag" style="color: #ff0000;">&lt;T&gt;</span><span class="pln"> mData;</span></p>
<pre class="prettyprint prettyprinted"><span class="pln">public MyAdapter() {
    }

    public MyAdapter(<span style="color: #ff0000;">LinkedList</span></span><span class="tag" style="color: #ff0000;">&lt;T&gt;</span><span class="pln"> mData, Context mContext) {
        this.mData = mData;
        this.mContext = mContext;
    }</span></pre>
}

## 2：ViewHolder类的升级改造：

*   定义一个查找控件的方法，思路是通过暴露公共的方法，调用方法时传递过来 控件id，以及设置的内容，比如TextView设置文本： public ViewHolder setText(int id, CharSequence text){文本设置}
*   将convertView复用部分搬到这里，那就需要传递一个context对象了，我们把需要获取 的部分都写到构造方法中！
*   写一堆设置方法(public)，比如设置文字大小颜色，图片背景等！
<pre class="prettyprint prettyprinted"></pre>

<h2 id="3：定义一个抽象方法，完成ViewHolder与Data数据集的绑定"><a href="#3：定义一个抽象方法，完成ViewHolder与Data数据集的绑定" class="headerlink" title="3：定义一个抽象方法，完成ViewHolder与Data数据集的绑定"></a>3：定义一个抽象方法，完成ViewHolder与Data数据集的绑定</h2><pre class="prettyprint prettyprinted"><span class="kwd">public</span> <span class="kwd">abstract</span> <span class="kwd">void</span><span class="pln"> bindView</span><span class="pun">(</span><span class="typ">ViewHolder</span><span class="pln"> holder</span><span class="pun">,</span><span class="pln"> T obj</span><span class="pun">);

</span></pre>

<h2 id="4：修改getView-部分的内容"><a href="#4：修改getView-部分的内容" class="headerlink" title="4：修改getView()部分的内容"></a>4：修改getView()部分的内容</h2><pre class="prettyprint prettyprinted"><span class="lit">@Override</span>
<span class="kwd">public</span> <span class="typ">View</span><span class="pln"> getView</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> position</span><span class="pun">,</span> <span class="typ">View</span><span class="pln"> convertView</span><span class="pun">,</span> <span class="typ">ViewGroup</span><span class="pln"> parent</span><span class="pun">)</span> <span class="pun">{</span>
    <span class="typ">ViewHolder</span><span class="pln"> holder </span><span class="pun">=</span> <span class="typ">ViewHolder</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">(</span><span class="pln">parent</span><span class="pun">.</span><span class="pln">getContext</span><span class="pun">(),</span><span class="pln"> convertView</span><span class="pun">,</span><span class="pln"> parent</span><span class="pun">,</span><span class="pln"> mLayoutRes
            </span><span class="pun">,</span><span class="pln"> position</span><span class="pun">);</span><span class="pln">
    bindView</span><span class="pun">(</span><span class="pln">holder</span><span class="pun">,</span><span class="pln">getItem</span><span class="pun">(</span><span class="pln">position</span><span class="pun">));</span>
    <span class="kwd">return</span><span class="pln"> holder</span><span class="pun">.</span><span class="pln">getItemView</span><span class="pun">();</span>
<span class="pun">}</span></pre>

<h2 id=""><a href="#" class="headerlink" title=""></a><span class="pun"></span></h2><p>最终改造完成的baseadapter:</p>
<pre>
package adapter;

import android.content.Context;
import android.util.SparseArray;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.ImageView;
import android.widget.TextView;

import java.util.ArrayList;

/**
 * Created by Addi on 2016/2/1 0001.
 *
 * 

创建可以复用的BaseAdapter

 */
public abstract class MyBaseAdapter<t> extends BaseAdapter {

   // private Context mContext;//上下文
    private ArrayList</t><t> mData;
    private  int mLayoutRes;

    public MyBaseAdapter(){}

    public MyBaseAdapter(ArrayList</t><t> mData, int mLayoutRes) {
        this.mData = mData;
        this.mLayoutRes = mLayoutRes;
    }

    @Override
    public int getCount() {
        return mData!=null?mData.size():0;
    }

    @Override
    public Object getItem(int position) {
        return mData.get(position);
    }

    @Override
    public long getItemId(int position) {
        return position;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {

        ViewHolder holder = ViewHolder.bind(parent.getContext(),convertView,parent,mLayoutRes,position);
        bingView(holder, (T) getItem(position));

        return holder.getItemView();
    }

    public abstract void bingView(ViewHolder holder,T obj);

    //添加一个元素
    public void add(T data){
        if(mData == null){
            mData = new ArrayList</t><t>();
        }
        mData.add(data);
        notifyDataSetChanged();
    }

    //往特定位置添加一个元素
    public void add(int position,T data){
        if(mData ==null){
            mData = new ArrayList<>();
        }
        mData.add(position,data);
        notifyDataSetChanged();
    }

    //移除一个元素
    public void remove(T data){
        if(mData!=null){
            mData.remove(data);
        }
        notifyDataSetChanged();
    }

    //移除特定位置的一个元素
    public void remove(int position){
        if(mData!=null){
            mData.remove(position);
        }
        notifyDataSetChanged();
    }

    //删除所有元素
    public void clear(){
        if(mData!=null){
            mData.clear();
        }
        notifyDataSetChanged();
    }

    //ViewHolder
    public static class ViewHolder{

        private SparseArray<view> mViews;//存放ListView的item中的view
        private View item;          //存放convertView
        private int position;        //游标
        private Context context;      //Context上下文

        //构造方法，完成相关的初始化工作
        private ViewHolder(Context context,ViewGroup parent,int layoutRes){
            mViews = new SparseArray<>();
            this.context = context;
            View convertView = LayoutInflater.from(context).inflate(layoutRes,parent,false);
            convertView.setTag(this);
            item = convertView;
        }

        //绑定ViewHolder与item
        public static ViewHolder bind(Context context,View convertView,ViewGroup parent,int layoutRes,int position){

            ViewHolder holder;
            if(convertView == null){
                holder = new ViewHolder(context,parent,layoutRes);
            }else{
                holder =(ViewHolder)convertView.getTag();
                holder.item = convertView;
            }
            holder.position = position;
            return holder;
        }

        //根据id获取集合中保存的控件
        public <t extends="" view=""> T getView(int id){
            T t = (T) mViews.get(id);
            if(t==null){
                t = (T) item.findViewById(id);
                mViews.put(id,t);
            }
            return t;
        }

        //获取当前条目
        public View getItemView(){
            return item;
        }

        //获取条目位置
        public int getItemPosition(){
            return position;
        }

        //设置文字
        public ViewHolder setText(int id,CharSequence text){
            View view = getView(id);
            if(view instanceof TextView){
                ((TextView)view).setText(text);
            }
            return this;
        }

        //设置图片
        public ViewHolder setImageResources(int id,int drawableRes){
            View view = getView(id);
            if(view instanceof ImageView){
                ((ImageView)view).setImageResource(drawableRes);
            }
            return this;
        }

        //设置点击监听
        public ViewHolder setOnClickListener(int id,View.OnClickListener listener){
            getView(id).setOnClickListener(listener);
            return this;
        }

        //设置可见
        public ViewHolder setVisibility(int id,int visible){
            getView(id).setVisibility(visible);
            return this;
        }

        //设置标签
        public ViewHolder setTag(int id,Object obj){
            getView(id).setTag(obj);
            return this;
        }
    }

}

</t></view></t></pre>
      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/02/01/android-e5-ad-a6-e4-b9-a0-e7-ac-94-e8-ae-b0-4/" class="archive-article-date">
  	<time datetime="2016-02-01T08:48:29.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-02-01</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Modern/">Modern</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/">android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android开发/">android开发</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/Android/">Android</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-android-e5-ad-a6-e4-b9-a0-e7-ac-94-e8-ae-b0-3" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/02/01/android-e5-ad-a6-e4-b9-a0-e7-ac-94-e8-ae-b0-3/">Android学习笔记-3</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Adapter"><a href="#Adapter" class="headerlink" title="Adapter:"></a>Adapter:</h1><p>Adapter继承结构：</p>
<p><img src="http://www.runoob.com/wp-content/uploads/2015/09/77919389.jpg" alt=""></p>
<p>&nbsp;</p>
<h2 id="常用adapter"><a href="#常用adapter" class="headerlink" title="常用adapter:"></a><strong>常用adapter:</strong></h2><ul>
<li><strong>BaseAdapter</strong>：抽象类，实际开发中我们会继承这个类并且重写相关方法，用得最多的一个Adapter！</li>
<li><strong>ArrayAdapter</strong>：支持泛型操作，最简单的一个Adapter，只能展现一行文字~</li>
<li><strong>SimpleAdapter</strong>：同样具有良好扩展性的一个Adapter，可以自定义多种效果！</li>
<li><strong>SimpleCursorAdapter</strong>：用于显示简单文本类型的listView，一般在数据库那里会用到，不过有点过时， 不推荐使用！<br>&nbsp;</li>
</ul>
<p>&nbsp;</p>
<p>listview作为一个列表控件，他和普通的列表一样，可以自己设置表头与表尾： 以及分割线，可供我们设置的属性如下：</p>
<ul>
<li><strong>footerDividersEnabled</strong>：是否在footerView(表尾)前绘制一个分隔条,默认为true</li>
<li><strong>headerDividersEnabled</strong>:是否在headerView(表尾)前绘制一个分隔条,默认为true</li>
<li><strong>divider</strong>:设置分隔条,可以用颜色分割,也可以用drawable资源分割</li>
<li><p><strong>dividerHeight</strong>:设置分隔条的高度<br>翻遍了了API发现并没有可以直接设置ListView表头或者表尾的属性，只能在Java中写代码 进行设置了，可供我们调用的方法如下：</p>
</li>
<li><p><strong>addHeaderView(View v)</strong>：添加headView(表头),括号中的参数是一个View对象</p>
</li>
<li><strong>addFooterView(View v)</strong>：添加footerView(表尾)，括号中的参数是一个View对象</li>
<li><strong>addHeaderView(headView, null, false)</strong>：和前面的区别：设置Header是否可以被选中</li>
<li><strong>addFooterView(View,view,false)</strong>：同上<br>对了，使用这个addHeaderView方法必须放在listview.setAdapter前面，否则会报错。</li>
</ul>
<p><span style="color: #ff0000;">注意：</span></p>
<pre class="prettyprint prettyprinted"><span class="com">//添加表头和表尾需要写在setAdapter方法调用之前！！！</span><span class="pln">
        list_animal</span><span class="pun">.</span><span class="pln">addHeaderView</span><span class="pun">(</span><span class="pln">headView</span><span class="pun">);</span><span class="pln">
        list_animal</span><span class="pun">.</span><span class="pln">addFooterView</span><span class="pun">(</span><span class="pln">footView</span><span class="pun">);

添加表头表尾后，我们发现positon是从表头开始算的，就是你添加的第一个数据本来的postion是 0，但是此时却变成了1，因为表头也算！！

</span></pre>

<h2 id="BaseAdapter优化："><a href="#BaseAdapter优化：" class="headerlink" title="BaseAdapter优化："></a>BaseAdapter优化：</h2><h2 id="1-复用ConvertView："><a href="#1-复用ConvertView：" class="headerlink" title="1.复用ConvertView："></a>1.复用ConvertView：</h2><p>inflate()每次都要加载一次xml，其实这个convertView是系统提供给我们的可供服用的View 的缓存对象，那就先判断view是否为空，为空才加载</p>
<p>&nbsp;</p>
<h2 id="2-ViewHolder重用组件："><a href="#2-ViewHolder重用组件：" class="headerlink" title="2.ViewHolder重用组件："></a>2.ViewHolder重用组件：</h2><pre class="prettyprint prettyprinted"><span class="kwd">static</span> <span class="kwd">class</span> <span class="typ">ViewHolder</span><span class="pun">{</span>
  具体view中的控件例如
  TextView XXX;
<span class="pun">}
一个例子：</span></pre>
> <pre><span style="color: #ff0000;">ViewHolder holder = null;</span>
> 
> if(convertView==null) {
> 
>     convertView = LayoutInflater.from(mContext).inflate(R.layout.datalayout, parent, false);
> 
>    <span style="color: #ff0000;"> holder = new ViewHolder();</span>
> 
>    <span style="color: #ff0000;"> holder</span>.t1 = (TextView)convertView.findViewById(R.id.text1);
> 
>    <span style="color: #ff0000;"> holder</span>.t2= (TextView)convertView.findViewById(R.id.text2);
> 
>   <span style="color: #ff0000;">  convertView.setTag(holder);</span>
> 
> }else{
> 
>    <span style="color: #ff0000;"> holder = (ViewHolder)convertView.getTag();</span>
> 
> <span style="color: #ff0000;">}</span></pre>
> 
> <pre><span style="color: #ff0000;">holder</span>.t1.setText(mData.get(position).getName());
> 
> <span style="color: #ff0000;">holder</span>.t2.setText(mData.get(position).getAlbum());</pre>
> 
> <pre>return convertView;</pre>
<pre class="prettyprint prettyprinted"><span class="pun"> </span></pre>
      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/02/01/android-e5-ad-a6-e4-b9-a0-e7-ac-94-e8-ae-b0-3/" class="archive-article-date">
  	<time datetime="2016-01-31T18:40:09.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-02-01</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/Android/">Android</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-android-e5-ad-a6-e4-b9-a0-e7-ac-94-e8-ae-b0-2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/31/android-e5-ad-a6-e4-b9-a0-e7-ac-94-e8-ae-b0-2/">Android学习笔记-2</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>今天学习到Date&amp;Time的组件</p>
<p>学到Chronmeter组件时又介绍如何做一个小小的计时器</p>
<p>看了挺简单，自己也试着实现了一下</p>
<p>界面布局很简单，主要是一个Chronmeter组件和4个button</p>
<p>布局代码如下：</p>
<p>&nbsp;</p>
<pre>
`
< ?xml version="1.0" encoding="utf-8"?>
<relativelayout xmlns:android="http://schemas.android.com/apk/res/android" xmlns:tools="http://schemas.android.com/tools" android:layout_width="match_parent" android:layout_height="match_parent" android:paddingbottom="@dimen/activity_vertical_margin" android:paddingleft="@dimen/activity_horizontal_margin" android:paddingright="@dimen/activity_horizontal_margin" android:paddingtop="@dimen/activity_vertical_margin" tools:context="com.teamx.myapplication15.Main2Activity">
    <chronometer android:id="@+id/chronometer" android:layout_width="fill_parent" android:layout_height="wrap_content" android:gravity="center_horizontal" android:textsize="60sp" android:textcolor="#DD0000"></chronometer>
    <linearlayout android:layout_below="@+id/chronometer" android:layout_width="match_parent" android:layout_height="match_parent" android:orientation="horizontal" android:layout_margintop="10dp">
        <button android:id="@+id/btStart" android:layout_width="wrap_content" android:layout_height="wrap_content" android:textsize="12sp" android:text="开始计时"></button>
        <button android:id="@+id/btStop" android:layout_width="wrap_content" android:layout_height="wrap_content" android:textsize="12sp" android:text="暂停"></button>
        <button android:id="@+id/btReset" android:layout_width="wrap_content" android:layout_height="wrap_content" android:textsize="12sp" android:text="重置"></button>
        <button android:id="@+id/btFormat" android:layout_width="wrap_content" android:layout_height="wrap_content" android:textsize="12sp" android:text="格式化"></button>
    </linearlayout>

</relativelayout>
`
</pre>
功能逻辑方面，主要是获取组件实例后，设置监听事件，调用Chronmter的对应方法实现计时：
逻辑代码：
<pre>import android.os.Bundle;
import android.os.SystemClock;
import android.support.v7.app.AppCompatActivity;
import android.view.View;
import android.widget.Button;
import android.widget.Chronometer;
import android.widget.Toast;

public class Main2Activity extends AppCompatActivity implements View.OnClickListener,Chronometer.OnChronometerTickListener{

    private Chronometer chronometer;
    private Button start,stop,reset,format;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main2);
        initView();

    }

    public void initView(){
        start = (Button)super.findViewById(R.id.btStart);
        stop = (Button)super.findViewById(R.id.btStop);
        reset = (Button)super.findViewById(R.id.btReset);
        format = (Button)super.findViewById(R.id.btFormat);
        chronometer = (Chronometer)super.findViewById(R.id.chronometer);
        start.setOnClickListener(this);
        stop.setOnClickListener(this);
        reset.setOnClickListener(this);
        format.setOnClickListener(this);
        chronometer.setOnChronometerTickListener(this);

    }

    @Override
    public void onClick(View v) {
        switch (v.getId()){
            case R.id.btStart:
                chronometer.start();
                break;
            case R.id.btStop:
                chronometer.stop();
                break;
            case R.id.btReset:
                chronometer.setBase(SystemClock.elapsedRealtime());
                break;
            case  R.id.btFormat:
                chronometer.setFormat("Time %s");
                break;
        }
    }

    @Override
    public void onChronometerTick(Chronometer chronometer) {
        String time = chronometer.getText().toString();
        if(time.equals("00:00")){
            Toast.makeText(Main2Activity.this, "时间到了~", Toast.LENGTH_SHORT).show();
        }
    }
}

</pre>
      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/01/31/android-e5-ad-a6-e4-b9-a0-e7-ac-94-e8-ae-b0-2/" class="archive-article-date">
  	<time datetime="2016-01-31T09:22:38.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-01-31</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Modern/">Modern</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/">android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android开发/">android开发</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/Android/">Android</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-android-e5-ad-a6-e4-b9-a0-e7-ac-94-e8-ae-b0-1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/30/android-e5-ad-a6-e4-b9-a0-e7-ac-94-e8-ae-b0-1/">Android学习笔记-1</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="EditText"><a href="#EditText" class="headerlink" title="EditText:"></a><strong>EditText:</strong></h1><h2 id="获得焦点后全选组件内所有文本内容"><a href="#获得焦点后全选组件内所有文本内容" class="headerlink" title="获得焦点后全选组件内所有文本内容:"></a>获得焦点后全选组件内所有文本内容:</h2><pre class="prettyprint prettyprinted"><span class="pln">android</span><span class="pun">:</span><span class="pln">selectAllOnFocus</span><span class="pun">=</span><span class="str">"true"

</span></pre>

<h2 id="限制EditText输入类型"><a href="#限制EditText输入类型" class="headerlink" title="限制EditText输入类型:"></a>限制EditText输入类型:</h2><p><strong>可选参数如下：</strong></p>
<p><strong>文本类型，多为大写、小写和数字符号</strong></p>
<pre class="prettyprint prettyprinted"><span class="pln">android</span><span class="pun">:</span><span class="pln">inputType</span><span class="pun">=</span><span class="str">"none"</span><span class="pln">  
android</span><span class="pun">:</span><span class="pln">inputType</span><span class="pun">=</span><span class="str">"text"</span><span class="pln">  
android</span><span class="pun">:</span><span class="pln">inputType</span><span class="pun">=</span><span class="str">"textCapCharacters"</span><span class="pln">  
android</span><span class="pun">:</span><span class="pln">inputType</span><span class="pun">=</span><span class="str">"textCapWords"</span><span class="pln">  
android</span><span class="pun">:</span><span class="pln">inputType</span><span class="pun">=</span><span class="str">"textCapSentences"</span><span class="pln">  
android</span><span class="pun">:</span><span class="pln">inputType</span><span class="pun">=</span><span class="str">"textAutoCorrect"</span><span class="pln">  
android</span><span class="pun">:</span><span class="pln">inputType</span><span class="pun">=</span><span class="str">"textAutoComplete"</span><span class="pln">  
android</span><span class="pun">:</span><span class="pln">inputType</span><span class="pun">=</span><span class="str">"textMultiLine"</span><span class="pln">  
android</span><span class="pun">:</span><span class="pln">inputType</span><span class="pun">=</span><span class="str">"textImeMultiLine"</span><span class="pln">  
android</span><span class="pun">:</span><span class="pln">inputType</span><span class="pun">=</span><span class="str">"textNoSuggestions"</span><span class="pln">  
android</span><span class="pun">:</span><span class="pln">inputType</span><span class="pun">=</span><span class="str">"textUri"</span><span class="pln">  
android</span><span class="pun">:</span><span class="pln">inputType</span><span class="pun">=</span><span class="str">"textEmailAddress"</span><span class="pln">  
android</span><span class="pun">:</span><span class="pln">inputType</span><span class="pun">=</span><span class="str">"textEmailSubject"</span><span class="pln">  
android</span><span class="pun">:</span><span class="pln">inputType</span><span class="pun">=</span><span class="str">"textShortMessage"</span><span class="pln">  
android</span><span class="pun">:</span><span class="pln">inputType</span><span class="pun">=</span><span class="str">"textLongMessage"</span><span class="pln">  
android</span><span class="pun">:</span><span class="pln">inputType</span><span class="pun">=</span><span class="str">"textPersonName"</span><span class="pln">  
android</span><span class="pun">:</span><span class="pln">inputType</span><span class="pun">=</span><span class="str">"textPostalAddress"</span><span class="pln">  
android</span><span class="pun">:</span><span class="pln">inputType</span><span class="pun">=</span><span class="str">"textPassword"</span><span class="pln">  
android</span><span class="pun">:</span><span class="pln">inputType</span><span class="pun">=</span><span class="str">"textVisiblePassword"</span><span class="pln">  
android</span><span class="pun">:</span><span class="pln">inputType</span><span class="pun">=</span><span class="str">"textWebEditText"</span><span class="pln">  
android</span><span class="pun">:</span><span class="pln">inputType</span><span class="pun">=</span><span class="str">"textFilter"</span><span class="pln">  
android</span><span class="pun">:</span><span class="pln">inputType</span><span class="pun">=</span><span class="str">"textPhonetic"</span></pre>
**数值类型**
<pre class="prettyprint prettyprinted"><span class="pln">android</span><span class="pun">:</span><span class="pln">inputType</span><span class="pun">=</span><span class="str">"number"</span><span class="pln">  
android</span><span class="pun">:</span><span class="pln">inputType</span><span class="pun">=</span><span class="str">"numberSigned"</span><span class="pln">  
android</span><span class="pun">:</span><span class="pln">inputType</span><span class="pun">=</span><span class="str">"numberDecimal"</span><span class="pln">  
android</span><span class="pun">:</span><span class="pln">inputType</span><span class="pun">=</span><span class="str">"phone"</span><span class="com">//拨号键盘  </span><span class="pln">
android</span><span class="pun">:</span><span class="pln">inputType</span><span class="pun">=</span><span class="str">"datetime"</span><span class="pln">  
android</span><span class="pun">:</span><span class="pln">inputType</span><span class="pun">=</span><span class="str">"date"</span><span class="com">//日期键盘  </span><span class="pln">
android</span><span class="pun">:</span><span class="pln">inputType</span><span class="pun">=</span><span class="str">"time"</span><span class="com">//时间键盘

很多时候我们可能要限制EditText只允许单行输入，而且不会滚动，比如上面的登陆界面的 例子，我们只需要设置:
</span></pre>
<pre class="prettyprint prettyprinted"><span class="pln">android</span><span class="pun">:</span><span class="pln">singleLine</span><span class="pun">=</span><span class="str">"true"

</span></pre>
另外EditText还为我们提供了设置英文字母大写类型的属性：**[android](http://www.alimodern.com/tag/android "android"):capitalize** 默认none，提供了三个可选值：
> *   **sentences：**仅第一个字母大写
> *   **words：**每一个单词首字母大小，用空格区分单词
> *   **characters:**每一个英文字母都大写
&nbsp;

## 带表情的EditText的简单实现：

相信大家对于QQ或者微信很熟悉吧，我们发送文本的时候可以连同表情一起发送，有两种简单的实现方式：
> 1.使用SpannableString来实现
> 
> 2.使用Html类来实现
> 
> 这里笔者用的是第一种，这里只实现一个简单的效果，大家可以把方法抽取出来，自定义一个EditText；
> 
> 也可以自己动手写个类似于QQ那样有多个表情选择的输入框！
<pre class="prettyprint prettyprinted"><span class="str"> </span></pre>

<h2 id="带删除按钮的EditText："><a href="#带删除按钮的EditText：" class="headerlink" title="带删除按钮的EditText："></a>带删除按钮的EditText：</h2><p>当我们输入内容后，右面会出现这样一个小叉叉的图标，我们点击后会清空输入框中的内容！<br>实现起来其实也很简单：<br>为EditText设置addTextChangedListener，然后重写TextWatcher（）里的抽象方法，这个用于监听输入框变化的；然后setCompoundDrawablesWithIntrinsicBounds设置小叉叉的图片；最后，重写onTouchEvent方法，如果点击区域是小叉叉图片的位置，清空文本！</p>
<p>&nbsp;</p>
<h1 id="ImageView"><a href="#ImageView" class="headerlink" title="ImageView:"></a><strong>ImageView:</strong></h1><h2 id="adjustViewBounds设置缩放是否保存原图长宽比"><a href="#adjustViewBounds设置缩放是否保存原图长宽比" class="headerlink" title="adjustViewBounds设置缩放是否保存原图长宽比:"></a>adjustViewBounds设置缩放是否保存原图长宽比:</h2><p>ImageView为我们提供了<strong>adjustViewBounds</strong>属性，用于设置缩放时是否保持原图长宽比！ 单独设置不起作用，需要配合<strong>maxWidth</strong>和<strong>maxHeight</strong>属性一起使用！而后面这两个属性 也是需要adjustViewBounds为true才会生效的~</p>
<ul>
<li><a href="http://www.alimodern.com/tag/android" title="android" target="_blank" rel="external">android</a>:maxHeight:设置ImageView的最大高度</li>
<li><a href="http://www.alimodern.com/tag/android" title="android" target="_blank" rel="external">android</a>:maxWidth:设置ImageView的最大宽度<br>&nbsp;</li>
</ul>
<h2 id="scaleType设置缩放类型"><a href="#scaleType设置缩放类型" class="headerlink" title="scaleType设置缩放类型:"></a>scaleType设置缩放类型:</h2><p><a href="http://www.alimodern.com/tag/android" title="android" target="_blank" rel="external">android</a>:scaleType用于设置显示的图片如何缩放或者移动以适应ImageView的大小 Java代码中可以通过imageView.setScaleType(ImageView.ScaleType.CENTER);来设置~ 可选值如下：</p>
<ul>
<li><strong>fitXY</strong>:对图像的横向与纵向进行独立缩放,使得该图片完全适应ImageView,但是图片的横纵比可能会发生改变</li>
<li><strong>fitStart</strong>:保持纵横比缩放图片,知道较长的边与Image的编程相等,缩放完成后将图片放在ImageView的左上角</li>
<li><strong>fitCenter</strong>:同上,缩放后放于中间;</li>
<li><strong>fitEnd</strong>:同上,缩放后放于右下角;</li>
<li><strong>center</strong>:保持原图的大小，显示在ImageView的中心。当原图的size大于ImageView的size，超过部分裁剪处理。</li>
<li><strong>centerCrop</strong>:保持横纵比缩放图片,知道完全覆盖ImageView,可能会出现图片的显示不完全</li>
<li><strong>centerInside</strong>:保持横纵比缩放图片,直到ImageView能够完全地显示图片</li>
<li><strong>matrix</strong>:默认值，不改变原图的大小，从ImageView的左上角开始绘制原图， 原图超过ImageView的部分作裁剪处理</li>
</ul>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/01/30/android-e5-ad-a6-e4-b9-a0-e7-ac-94-e8-ae-b0-1/" class="archive-article-date">
  	<time datetime="2016-01-30T13:17:39.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-01-30</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Modern/">Modern</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/">android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android开发/">android开发</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/Android/">Android</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-e8-af-be-e7-a8-8b-e5-ae-9e-e9-aa-8c-e7-a7-91-e6-8a-80-e8-b5-84-e8-ae-afapp-e5-bc-80-e5-8f-91-e4-b8-aa-e4-ba-ba-e6-8a-a5-e5-91-8a" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/09/e8-af-be-e7-a8-8b-e5-ae-9e-e9-aa-8c-e7-a7-91-e6-8a-80-e8-b5-84-e8-ae-afapp-e5-bc-80-e5-8f-91-e4-b8-aa-e4-ba-ba-e6-8a-a5-e5-91-8a/">课程实验-科技资讯app开发个人报告</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>（1）</strong>项目的名称：科技资讯App</p>
<p><strong>（2）</strong>项目的主题、设计目的:</p>
<p>科技资讯app是一个为用户提供最新科技资讯内容的android手机应用程序。</p>
<p>我们当初想到要设计科技资讯app是为了能够在资讯爆炸的今天，能够有一个app可以专注地提供科技资讯供用户阅读。</p>
<p>现在，市场上有众多的新闻资讯app.各个app基本上都提供类似的功能，类似的界面，这些的app的功能也很完善。但是，有些也有被人诟病的地方，例如广告太多，评论系统影响阅读体验，不关注的内容也推送给用户等等。针对以上一些问题，我们想做一个专一提供科技资讯阅读的app。</p>
<p><strong>（3）</strong>软件简介:基本内容、运行环境等:</p>
<p>软件的结构：</p>
<p><a href="http://www.alimodern.com/wp-content/uploads/2016/01/结构2.jpg"><img src="http://www.alimodern.com/wp-content/uploads/2016/01/结构2.jpg" alt="结构2"></a></p>
<p>&nbsp;</p>
<p><a href="http://www.alimodern.com/wp-content/uploads/2016/01/结构1.jpg"><img src="http://www.alimodern.com/wp-content/uploads/2016/01/结构1.jpg" alt="结构1"></a></p>
<p>依赖库：</p>
<p>compile ‘com.android.support:appcompat-v7:23.0.1’<br>compile files(‘libs/ApiStoreSDK1.0.2.jar’)<br>compile ‘com.cjj.materialrefeshlayout:library:1.3.0’<br>compile ‘cn.trinea.android.common:trinea-android-common:4.2.15’<br>compile files(‘libs/universal-image-loader-1.9.5.jar’)<br>compile files(‘libs/jsoup-1.8.3.jar’)</p>
<p>App内容：</p>
<p>App:运行环境：android5.0及以上</p>
<p>&nbsp;</p>
<p>（4）重点介绍整个软件开发过程中个人的主要工作和收获：</p>
<p>在这个app开发中，我主要负责原型的开发，app界面的设计，新闻api和app的对接，以及文章列表的显示。</p>
<p>在整个软件开发过程中学到了很多东西，体会到了团队合作开发的好处。在开发app过程中虽然遇到了很多困难，但是通过和队友的沟通讨论以及通过网上查找资料，基本把问题解决了，学会了怎么去解决问题。</p>
<p>&nbsp;</p>
<p>（5）课程设计中目前存在的问题：</p>
<p>界面还是不够美观，app运行一段时间后占用内存较大，因为用到了android5.0以上的一些特性，所以现在只支持5.0以上系统版本。</p>
<p>&nbsp;</p>
<p>（6）设计实践过程中的自我感想：</p>
<p>一个app从构思到开发出产品，需要做很多的工作。在开发过程中也意识到了自己能力的不足，所以得加把劲多学多实践。</p>
        <p class="article-more-link">
          <a class="article-more-a"  href="/2016/01/09/e8-af-be-e7-a8-8b-e5-ae-9e-e9-aa-8c-e7-a7-91-e6-8a-80-e8-b5-84-e8-ae-afapp-e5-bc-80-e5-8f-91-e4-b8-aa-e4-ba-ba-e6-8a-a5-e5-91-8a/#more">more >></a>
        </p>
      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/01/09/e8-af-be-e7-a8-8b-e5-ae-9e-e9-aa-8c-e7-a7-91-e6-8a-80-e8-b5-84-e8-ae-afapp-e5-bc-80-e5-8f-91-e4-b8-aa-e4-ba-ba-e6-8a-a5-e5-91-8a/" class="archive-article-date">
  	<time datetime="2016-01-09T04:07:41.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-01-09</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/Android/">Android</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-e6-9c-89-e9-81-93-e7-bf-bb-e8-af-91api-demo-for-android" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/06/e6-9c-89-e9-81-93-e7-bf-bb-e8-af-91api-demo-for-android/">有道翻译API demo for Android</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>之前应朋友要求写了一个有道翻译API的android demo,由于是初学android，还有很多东西都不是很懂，写好弄好布局和函数之后就进行调试，然后发现死活获取不到有道返回的数据。无奈弄了几个小时，然后到网上寻找bug原因，经过一段时间的寻找，发现了这一篇文章—-》<a href="http://www.tuicool.com/articles/E3umie" target="_blank" rel="external">http://www.tuicool.com/articles/E3umie</a></p>
<p>然后发现：</p>
<p>原因：</p>
<p>android.os.NetworkOnMainThreadException是说不要在主线程中访问网络，这个是android3.0版本开始就强制程序不能在主线程中访问网络，要把访问网络放在独立的线程中。</p>
<p>解决办法有三个：</p>
<p>1、忽略这些强制策略问题.</p>
<p>2、将网络访问放到单独线程中</p>
<p>3、将网络访问放到异步任务AsyncTask中</p>
<p>响应代码请移步到刚才网址的网站中查看，这里不盗取别人的内容。</p>
<p>最后调试成功：</p>
<p><a href="http://www.alimodern.com/wp-content/uploads/2015/11/S51106-112437.jpg" target="_blank" rel="external"><img src="http://www.alimodern.com/wp-content/uploads/2015/11/S51106-112437-576x1024.jpg" alt="S51106-112437"></a></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>在此奉上工程文件：</p>
<p><a href="http://pan.baidu.com/s/1eQHK77c" target="_blank" rel="external">http://pan.baidu.com/s/1eQHK77c</a></p>
<p>Password：<span style="color: #ff0000;">d0qx</span></p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2015/11/06/e6-9c-89-e9-81-93-e7-bf-bb-e8-af-91api-demo-for-android/" class="archive-article-date">
  	<time datetime="2015-11-06T03:27:04.000Z" itemprop="datePublished"><i class="icon-clock"></i>2015-11-06</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/">android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/Android/">Android</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/3/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span>
    </nav>
  


      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 Addi
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/",
		innerArchive: true
	}
</script>

<script src="/./main.js"></script>


    
<div class="tools-col">
  <ul class="btn-wrap">
    
      <li class="chose" data-hook="tools-section-all"><span class="text">全部</span><i class="icon-book"></i></li>
    
    
      <li data-hook="tools-section-tag"><span class="text">标签</span><i class="icon-price-tags"></i></li>
    
    
      <li data-hook="tools-section-friends"><span class="text">友链</span><i class="icon-link"></i></li>
    
    
      <li data-hook="tools-section-me"><span class="text">我</span><i class="icon-smile"></i></li>
    
  </ul>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all chose">
    	</section>
    

    
    	<section class="tools-section tools-section-tag">
    			<div class="widget tagcloud" id="js-tagcloud">
    				<a href="/tags/Modern/" style="font-size: 16.67px;">Modern</a> <a href="/tags/addi/" style="font-size: 15px;">addi</a> <a href="/tags/andorid笔记/" style="font-size: 15px;">andorid笔记</a> <a href="/tags/android/" style="font-size: 20px;">android</a> <a href="/tags/android开发/" style="font-size: 18.33px;">android开发</a> <a href="/tags/android笔记/" style="font-size: 13.33px;">android笔记</a> <a href="/tags/bug/" style="font-size: 10px;">bug</a> <a href="/tags/java/" style="font-size: 11.67px;">java</a> <a href="/tags/日常/" style="font-size: 10px;">日常</a> <a href="/tags/随笔/" style="font-size: 10px;">随笔</a>
    			</div>
    	</section>
    

    
    	<section class="tools-section tools-section-friends">
  		
  			<div class="friends-wrap" id="js-friends">
  			
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://blog.csdn.net/lmj623565791">hongyang大神</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://gold.xitu.io/">掘金</a>
  	        
  	        </div>
  		
    	</section>
    

    
    	<section class="tools-section tools-section-me">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">关于我&lt;br&gt;&lt;br&gt;广东仔一枚，SCNU在读&lt;br&gt;&lt;br&gt;爱自由，希望世界和平&lt;br&gt;&lt;br&gt;略带文艺气质的Android程序员</div>
  	  	
    	</section>
    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>